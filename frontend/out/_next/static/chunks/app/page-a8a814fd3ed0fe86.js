(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{201:(e,t,s)=>{Promise.resolve().then(s.bind(s,6957))},2374:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return s}});let s="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setAttributesFromProps",{enumerable:!0,get:function(){return a}});let s={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"},n=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"];function l(e){return["async","defer","noModule"].includes(e)}function a(e,t){for(let[a,r]of Object.entries(t)){if(!t.hasOwnProperty(a)||n.includes(a)||void 0===r)continue;let o=s[a]||a.toLowerCase();"SCRIPT"===e.tagName&&l(o)?e[o]=!!r:e.setAttribute(o,String(r)),(!1===r||"SCRIPT"===e.tagName&&l(o)&&(!r||"false"===r))&&(e.setAttribute(o,""),e.removeAttribute(o))}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(5155),l=s(2115),a=s(9243),r=s.n(a),o=s(7410);function i(e){let{dot:t}=e,[s,a]=(0,l.useState)(null),[r,i]=(0,l.useState)(1),[c,d]=(0,l.useState)({x:0,y:0}),[u,m]=(0,l.useState)(!1),[f,x]=(0,l.useState)({x:0,y:0}),[p,g]=(0,l.useState)(!1),h=(0,l.useRef)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=await o.is.load(),s=(await e.layout(t,"svg","dot")).replace("<svg",'<svg preserveAspectRatio="xMidYMid meet" style="width: 100%; height: 100%;"');a(s)}catch(e){console.error("Error rendering graph:",e)}})()},[t]);let b=()=>{m(!1)},y=async()=>{if(h.current)try{p?(await document.exitFullscreen(),g(!1),i(1),d({x:0,y:0})):(await h.current.requestFullscreen(),g(!0))}catch(e){console.error("Error toggling fullscreen:",e)}};return(0,l.useEffect)(()=>{let e=()=>{g(!!document.fullscreenElement),document.fullscreenElement||(i(1),d({x:0,y:0}))};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,n.jsxs)("div",{ref:h,className:"w-full h-full flex items-center justify-center overflow-hidden relative",onWheel:e=>{if(p)e.preventDefault(),i(Math.min(Math.max(.1,r*(e.deltaY>0?.9:1.1)),5))},onMouseDown:e=>{p&&0===e.button&&(m(!0),x({x:e.clientX-c.x,y:e.clientY-c.y}))},onMouseMove:e=>{p&&u&&d({x:e.clientX-f.x,y:e.clientY-f.y})},onMouseUp:b,onMouseLeave:b,onDoubleClick:()=>{p&&(i(1),d({x:0,y:0}))},children:[(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:null!=s?s:"Loading graph..."},className:"w-full h-full",style:{transform:p?"translate(".concat(c.x,"px, ").concat(c.y,"px) scale(").concat(r,")"):"none",transformOrigin:"center",transition:u?"none":"transform 0.1s ease-out"}}),(0,n.jsx)("button",{onClick:y,className:"absolute top-2 right-2 p-2 bg-white/80 hover:bg-white rounded-lg shadow-lg transition-colors z-10",title:p?"Exit fullscreen":"Enter fullscreen",children:p?(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 9V4.5M9 9H4.5M15 9H19.5M15 9V4.5M15 15v4.5M15 15H4.5M15 15h4.5M9 15v4.5"})}):(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})})})]})}function c(e){let{solutions:t,bufferSolutions:s,onAddExample:l,isFullSolutionSet:a,isButtonDisabled:r}=e;if(!t||0===t.length)return null;let o=s.length>0;return(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:a?"Full Solution Set":"Example Solutions"}),(0,n.jsxs)("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:[t.map((e,t)=>(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200 flex flex-col",children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)("span",{className:"font-semibold text-gray-700",children:["Solution ",t+1]})}),e.path_bits&&e.path_bits.length>0&&(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Path (binary):"}),(0,n.jsx)("div",{className:"flex flex-wrap items-center gap-1",children:e.path_bits.map((e,t)=>(0,n.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded font-mono text-sm",children:e},t))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Variable Values:"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-1",children:e.variables.map(t=>(0,n.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,n.jsxs)("div",{className:"font-medium text-gray-700",children:[t,":"]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"text-gray-500 text-sm",children:"Binary:"}),(0,n.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded font-mono text-sm",children:e.var_bits[t]||"Îµ"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"text-gray-500 text-sm",children:"Integer:"}),(0,n.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded font-mono text-sm",children:e.var_ints[t]})]})]})]},t))})]})]},t)),o&&(0,n.jsx)("button",{type:"button",onClick:l,disabled:r,className:"bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg shadow-md p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors min-h-[180px] disabled:opacity-50 disabled:cursor-not-allowed",style:{minHeight:"180px"},"aria-label":"Generate another example",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-400 mb-2"}),(0,n.jsx)("span",{className:"text-gray-500 font-medium",children:"Loading more examples..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-4xl text-gray-400 mb-2",children:"+"}),(0,n.jsx)("span",{className:"text-gray-500 font-medium",children:"Generate another example"})]})}),!o&&a&&(0,n.jsxs)("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg shadow-md p-4 flex flex-col items-center justify-center min-h-[180px]",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsx)("span",{className:"text-green-700 font-medium text-center",children:"Solution set completed"})]})]})]})}function d(){let[e,t]=(0,l.useState)(""),[s,a]=(0,l.useState)(null),[o,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(),[f,x]=(0,l.useState)(),[p,g]=(0,l.useState)([]),[h,b]=(0,l.useState)([]),[y,j]=(0,l.useState)([]),[v,N]=(0,l.useState)([]),[w,_]=(0,l.useState)([]),[S,E]=(0,l.useState)(!1),[k,O]=(0,l.useState)(!1),[C,L]=(0,l.useState)(!1),[M,A]=(0,l.useState)(null),[I,R]=(0,l.useState)(3),[T,P]=(0,l.useState)(0),[D,q]=(0,l.useState)(0),[F,z]=(0,l.useState)(!0),[B,H]=(0,l.useState)(!1),[V,U]=(0,l.useState)(0),J=(0,l.useRef)(0),X=(0,l.useRef)(null),W=(0,l.useRef)([]);(0,l.useEffect)(()=>{!o&&u&&setTimeout(()=>{window.scrollTo(0,J.current)},100)},[o,u]);let Y=async t=>{J.current=window.scrollY,d(!0),a(null),m(void 0),x(void 0),_([]),N([]),E(!1);try{let s={formula:(null!=t?t:e).trim(),display_labels:F,display_atomic_construction:B},n=await fetch("/api/automaton/dot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok){let e=(await n.text()).replace(/\t/g,"    ").replace(/ /g,"\xa0");console.log("Error message received:",JSON.stringify(e)),a(e);return}let l=await n.json();console.log("API response:",l),m(l.dot),x(l.mata),g(l.variables||[]),b(l.variables||[]),j(l.variables||[]),W.current=l.example_solutions||[],(l.example_solutions||[]).length<9?(N(l.example_solutions||[]),_([]),E(!0)):(N((l.example_solutions||[]).slice(0,3)),_((l.example_solutions||[]).slice(3)),E(!1)),P(l.num_states),q(l.num_final_states)}catch(t){let e=(t instanceof Error?t.message:"An error occurred").replace(/\t/g,"    ").replace(/ /g,"\xa0");console.log("Error message received:",JSON.stringify(e)),a(e)}finally{d(!1)}},G=async t=>{if(f){d(!0),a(null);try{let s=v.length,n=w.length,l=s+n,r={aut:f,k_solutions:l,original_variable_order:h,new_variable_order:t,display_labels:F,display_atomic_construction:B};B&&(r.formula=e.trim());let o=await fetch("/api/automaton/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok){let e=(await o.text()).replace(/\t/g,"    ").replace(/ /g,"\xa0");console.log("Error message received:",JSON.stringify(e)),a(e);return}let i=await o.json();console.log("Reorder API response:",i),null!==i.dot&&void 0!==i.dot&&m(i.dot);let c=i.reordered_solutions||[],d=c.slice(0,s),u=c.slice(s,l);N(d),_(u),c.length<=s?E(!0):E(!1)}catch(t){let e=(t instanceof Error?t.message:"An error occurred").replace(/\t/g,"    ").replace(/ /g,"\xa0");console.log("Error message received:",JSON.stringify(e)),a(e)}finally{d(!1)}}},K=async t=>{if(f){d(!0),a(null);try{let s={aut:f,k_solutions:null!=t?t:I,original_variable_order:h,new_variable_order:y,display_atomic_construction:B};B&&(s.formula=e.trim());let n=await fetch("/api/automaton/solutions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok){let e=(await n.text()).replace(/\t/g,"    ").replace(/ /g,"\xa0");console.log("Error message received:",JSON.stringify(e)),a(e);return}let l=await n.json();console.log("Solutions API response:",l);let r=l.example_solutions||[];console.log("=== SOLUTIONS RESPONSE RECEIVED ==="),console.log("Response contains",r.length,"new solutions"),console.log("Solution set full:",l.solution_set_full),console.log("Adding",r.length,"new solutions to buffer"),_(e=>{let t=[...e,...r];return console.log("Buffer updated:"),console.log("- Previous buffer size:",e.length),console.log("- New buffer size:",t.length),console.log("- Added solutions:",r.length),t}),console.log("Setting full solution set to:",l.solution_set_full),E(l.solution_set_full||!1),O(!1),console.log("Refill completed, isRefillingBuffer set to false")}catch(t){let e=(t instanceof Error?t.message:"An error occurred").replace(/\t/g,"    ").replace(/ /g,"\xa0");console.log("Error message received:",JSON.stringify(e)),a(e)}finally{d(!1)}}},Q=e=>{A(e)},Z=e=>{e.preventDefault()},$=async(e,t)=>{if(e.preventDefault(),null===M)return;let s=[...y],[n]=s.splice(M,1);s.splice(t,0,n),j(s),A(null),await G(s)},ee=async()=>{if(console.log("=== BUTTON CLICKED ==="),console.log("Current state:"),console.log("- Displayed solutions:",v.length),console.log("- Buffer solutions:",w.length),console.log("- Is full solution set:",S),console.log("- Is refilling buffer:",k),console.log("- Requested solutions:",V),S){console.log("Full solution set detected, showing all solutions"),N(e=>[...e,...w]),_([]);return}if(w.length>0){let e=w[0],t=w.slice(1);if(console.log("Taking solution from buffer:"),console.log("- Next solution index:",v.length+1),console.log("- Remaining buffer size:",t.length),N(t=>[...t,e]),_(t),4!==t.length||k||S)console.log("No refill needed, buffer size:",t.length);else{console.log("Buffer has 4 solutions left, triggering refill"),O(!0);let e=v.length+1+9;U(5),R(e),await K(e)}}else console.log("Buffer is empty, no more solutions to display")};return(0,n.jsxs)("main",{className:"min-h-screen p-8",children:[(0,n.jsx)(r(),{src:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",strategy:"beforeInteractive"}),(0,n.jsxs)("div",{className:"max-w-[85%] mx-auto space-y-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Presburger Arithmetical Expression to Automaton"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("textarea",{value:e,onChange:e=>{t(e.target.value),R(3)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),R(3),Y())},placeholder:"Enter a Presburger Arithmetical Expression...",className:"w-full h-32 p-4 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-2xl"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 cursor-pointer",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload Formula",(0,n.jsx)("input",{type:"file",accept:".txt",onChange:e=>{var s;let n=null==(s=e.target.files)?void 0:s[0];if(n){let e=new FileReader;e.onload=async e=>{var s;let n=null==(s=e.target)?void 0:s.result;t(n),R(3),await Y(n),X.current&&(X.current.value="")},e.readAsText(n)}},className:"hidden",ref:X})]}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:"Upload a .txt file containing your formula"}),u&&(0,n.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>{if(!u)return;let e=new Blob([u],{type:"text/plain"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="automaton.dot",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Download .dot"}),(0,n.jsx)("button",{onClick:()=>{if(!f)return;let e=new Blob([f],{type:"text/plain"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="automaton.mata",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Download .mata"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{id:"display-labels-toggle",type:"checkbox",checked:F,onChange:()=>z(e=>!e),className:"form-checkbox h-5 w-5 text-blue-600 transition duration-150 ease-in-out"}),(0,n.jsx)("label",{htmlFor:"display-labels-toggle",className:"text-gray-700 select-none cursor-pointer",children:"Display labels on automaton"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{id:"display-atomic-toggle",type:"checkbox",checked:B,onChange:()=>H(e=>!e),className:"form-checkbox h-5 w-5 text-blue-600 transition duration-150 ease-in-out"}),(0,n.jsxs)("label",{htmlFor:"display-atomic-toggle",className:"text-gray-700 select-none cursor-pointer",children:["Display atomic construction ",(0,n.jsx)("span",{className:"text-xs text-yellow-600",children:"(Warning: Can result in non-minimal automaton, only works on formulas of the form s <= t)"})]})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("button",{type:"button",className:"text-blue-600 underline text-sm focus:outline-none",onClick:()=>L(e=>!e),"aria-expanded":C,"aria-controls":"formula-help-section",children:C?"Hide syntax help":"Need help with the syntax?"}),C&&(0,n.jsxs)("div",{id:"formula-help-section",className:"mt-2 p-4 bg-gray-50 border border-gray-200 rounded text-sm text-gray-800",children:[(0,n.jsx)("div",{className:"mb-2 font-semibold",children:"Formula Syntax Help"}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Macros:"}),(0,n.jsx)("br",{}),"Define macros at the beginning of your input, one per line. After the macros, add your formula on a new line.",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-gray-600",children:"Example:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"LessThan(x, y) = x < y"}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"IsEven(x) = EX y. x = 2y"}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"LessThan(x, y) AND IsEven(z)"})]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Boolean connectives:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"font-mono",children:"AND"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"OR"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"NOT"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"->"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"<->"}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"text-gray-600",children:["Example: ",(0,n.jsx)("span",{className:"font-mono",children:"(x = y) AND (NOT (x < 3))"})]})]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Quantifiers:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"font-mono",children:"EX x. ..."})," (there exists), ",(0,n.jsx)("span",{className:"font-mono",children:"ALL y. ..."})," (for all)",(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"text-gray-600",children:["Example: ",(0,n.jsx)("span",{className:"font-mono",children:"EX z. x = 4z"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"ALL y. y <= x"})]})]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Comparisons:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"font-mono",children:"="}),", ",(0,n.jsx)("span",{className:"font-mono",children:"<="}),", ",(0,n.jsx)("span",{className:"font-mono",children:"<"}),", ",(0,n.jsx)("span",{className:"font-mono",children:">="}),", ",(0,n.jsx)("span",{className:"font-mono",children:">"}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"text-gray-600",children:["Example: ",(0,n.jsx)("span",{className:"font-mono",children:"x = y + 2"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"3z < y"})]})]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Arithmetic:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"font-mono",children:"x + y"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"2x + 3"}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{className:"text-gray-600",children:["Example: ",(0,n.jsx)("span",{className:"font-mono",children:"x = y + 2"}),", ",(0,n.jsx)("span",{className:"font-mono",children:"2x + 3"})]})]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Full formula examples:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"x = y + 2"}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"EX z. x = 4z"}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"ALL y. y <= x"}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"(x = y) AND (NOT (x < 3))"}),(0,n.jsx)("span",{className:"block font-mono bg-gray-100 rounded p-2 my-1",children:"EX x. (x < 3) -> (y = x + 2)"})]}),(0,n.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Grammar:"}),(0,n.jsx)("br",{}),(0,n.jsx)("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-gray-100 rounded p-2 mt-1",children:'\n?start: formula\n?formula: implication\n?implication: equivalence | equivalence "->" implication  -> implies\n?equivalence: or_expr | or_expr "<->" equivalence         -> iff\n?or_expr: and_expr | or_expr "OR" and_expr                -> or_expr\n?and_expr: not_expr | and_expr "AND" not_expr             -> and_expr\n?not_expr: "NOT" atom -> not_expr | atom\n?atom: comparison | quantifier | "(" formula ")"\n?quantifier: EX VAR "." formula -> ex_quantifier | ALL VAR "." formula -> all_quantifier\n?comparison: term "<=" term -> leq | term "=" term -> eq | term "<" term -> less | term ">" term -> greater | term ">=" term -> greater_equal\n?term: sum\n?sum: product | sum "+" product -> add\n?product: CONST VAR -> mult | factor\n?factor: VAR -> var | CONST -> const\nVAR: /[a-z][a-z0-9_]*/i\nCONST: /[0-9]+/\n'})]})]})]}),(0,n.jsx)("button",{onClick:()=>{R(3),Y()},disabled:o,className:"w-full py-2 px-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:o?k?"Loading solutions...":"Building...":"Build Automaton"})]}),s&&(0,n.jsx)("pre",{className:"p-4 bg-red-100 text-red-700 rounded-lg whitespace-pre-wrap font-mono",style:{fontFamily:"JetBrains Mono, Fira Mono, Menlo, Consolas, monospace",fontSize:"16px"},children:s}),u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{solutions:v,bufferSolutions:w,onAddExample:ee,isFullSolutionSet:S,isButtonDisabled:0===w.length&&k}),p.length>0&&(0,n.jsxs)("div",{className:"flex flex-col gap-2 my-4",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-700",children:"Variable order (drag to reorder):"}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[y.map((e,t)=>(0,n.jsx)("div",{draggable:!0,onDragStart:()=>Q(t),onDragOver:Z,onDrop:e=>$(e,t),className:"px-3 py-2 bg-blue-100 text-blue-800 rounded font-mono border border-blue-200 cursor-move hover:bg-blue-200 transition-colors ".concat(M===t?"opacity-50":""),children:e},e)),(0,n.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[(0,n.jsxs)("div",{className:"px-3 py-2 bg-blue-100 text-blue-800 rounded font-mono border border-blue-200",children:[(0,n.jsx)("span",{className:"font-semibold",children:"States:"})," ",T]}),(0,n.jsxs)("div",{className:"px-3 py-2 bg-green-100 text-green-800 rounded font-mono border border-green-200",children:[(0,n.jsx)("span",{className:"font-semibold",children:"Final:"})," ",D]})]})]})]}),(0,n.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,n.jsx)("div",{className:"w-full aspect-[16/9]",children:(0,n.jsx)(i,{dot:u})})})]})]})]})}},9243:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return b},handleClientScriptLoad:function(){return p},initScriptLoader:function(){return g}});let n=s(8229),l=s(6966),a=s(5155),r=n._(s(7650)),o=l._(s(2115)),i=s(2830),c=s(2714),d=s(2374),u=new Map,m=new Set,f=e=>{if(r.default.preinit)return void e.forEach(e=>{r.default.preinit(e,{as:"style"})});{let t=document.head;e.forEach(e=>{let s=document.createElement("link");s.type="text/css",s.rel="stylesheet",s.href=e,t.appendChild(s)})}},x=e=>{let{src:t,id:s,onLoad:n=()=>{},onReady:l=null,dangerouslySetInnerHTML:a,children:r="",strategy:o="afterInteractive",onError:i,stylesheets:d}=e,x=s||t;if(x&&m.has(x))return;if(u.has(t)){m.add(x),u.get(t).then(n,i);return}let p=()=>{l&&l(),m.add(x)},g=document.createElement("script"),h=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),n&&n.call(this,t),p()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){i&&i(e)});a?(g.innerHTML=a.__html||"",p()):r?(g.textContent="string"==typeof r?r:Array.isArray(r)?r.join(""):"",p()):t&&(g.src=t,u.set(t,h)),(0,c.setAttributesFromProps)(g,e),"worker"===o&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",o),d&&f(d),document.body.appendChild(g)};function p(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,d.requestIdleCallback)(()=>x(e))}):x(e)}function g(e){e.forEach(p),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");m.add(t)})}function h(e){let{id:t,src:s="",onLoad:n=()=>{},onReady:l=null,strategy:c="afterInteractive",onError:u,stylesheets:f,...p}=e,{updateScripts:g,scripts:h,getIsSsr:b,appDir:y,nonce:j}=(0,o.useContext)(i.HeadManagerContext),v=(0,o.useRef)(!1);(0,o.useEffect)(()=>{let e=t||s;v.current||(l&&e&&m.has(e)&&l(),v.current=!0)},[l,t,s]);let N=(0,o.useRef)(!1);if((0,o.useEffect)(()=>{if(!N.current){if("afterInteractive"===c)x(e);else"lazyOnload"===c&&("complete"===document.readyState?(0,d.requestIdleCallback)(()=>x(e)):window.addEventListener("load",()=>{(0,d.requestIdleCallback)(()=>x(e))}));N.current=!0}},[e,c]),("beforeInteractive"===c||"worker"===c)&&(g?(h[c]=(h[c]||[]).concat([{id:t,src:s,onLoad:n,onReady:l,onError:u,...p}]),g(h)):b&&b()?m.add(t||s):b&&!b()&&x(e)),y){if(f&&f.forEach(e=>{r.default.preinit(e,{as:"style"})}),"beforeInteractive"===c)if(!s)return p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,a.jsx)("script",{nonce:j,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...p,id:t}])+")"}});else return r.default.preload(s,p.integrity?{as:"script",integrity:p.integrity,nonce:j,crossOrigin:p.crossOrigin}:{as:"script",nonce:j,crossOrigin:p.crossOrigin}),(0,a.jsx)("script",{nonce:j,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([s,{...p,id:t}])+")"}});"afterInteractive"===c&&s&&r.default.preload(s,p.integrity?{as:"script",integrity:p.integrity,nonce:j,crossOrigin:p.crossOrigin}:{as:"script",nonce:j,crossOrigin:p.crossOrigin})}return null}Object.defineProperty(h,"__nextScript",{value:!0});let b=h;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[118,441,684,358],()=>t(201)),_N_E=e.O()}]);